{% extends 'base.html' %}
{% block content %}
<br>
<br>
<div class="container">

  <h1>Fill out the Following form to get the solution</h1>

  <div class="">

    <form method="post" action="{% url 'solutions:user_solution' %}">
      {% csrf_token %}
      <div class="">

        <div class=" md-form">
          <input type="text" name="contestno" id="contestno" class="form-control">
          <label for="contestno">Contest Code</label>
        </div>
        <div class=" md-form">
          <input type="text" name="username" id="username" class="form-control">
          <label for="username">User Account</label>
        </div>
        <div class=" md-form">
          <input type="text" name="problem" id="problem" class="form-control">
          <label for="problem">Problem Code</label>
        </div>
      </div>

      <div class="float-right">
        <input type="submit" name="" class="btn btn-primary" value="Get submissions">
      </div>

    </form>

  </div>
  <div class="">
    <table class='table'>
      <tr class='bg-info'>
        <th>ID</th>
        <th>Date and Time</th>
        <th>User</th>
        <th>Result</th>
        <th>Time</th>
        <th>Memory Used</th>
        <th>Language</th>
        <th>Solution</th>
      </tr>
      {%if success%}
      {% for  x in the_list %}
      <tr class='bg-light'>
        {% for key , value in x.items %}
        {% if key == 7 %}
        <td> <a href="{{ value }}">VIEW</a> </td>

        {% else %}
        <td>{{ value }}</td>

        {% endif %}

        {% endfor %}
      </tr>
      {% endfor %}
      {%endif%}
    </table>
    {%if not success%}
    <div class="text-center">
      <p>No result found! Please try again.</p>
    </div>
    {% endif %}

  </div>
</div>


{% endblock %}
